{"ast":null,"code":"import _toConsumableArray from\"C:/Users/joesh/IdeaProjects/soundtracks_final/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/joesh/IdeaProjects/soundtracks_final/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/joesh/IdeaProjects/soundtracks_final/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/joesh/IdeaProjects/soundtracks_final/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/joesh/IdeaProjects/soundtracks_final/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/joesh/IdeaProjects/soundtracks_final/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/joesh/IdeaProjects/soundtracks_final/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/joesh/IdeaProjects/soundtracks_final/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import'./App.css';import defaultAlbumArt from'./DALLÂ·E 2023-03-01 20.07.50 - driving down the 101 with the top down.png';import Playlist from'../Playlist/Playlist.js';import SearchBar from'../SearchBar/SearchBar.js';import SearchResults from'../SearchResults/SearchResults.js';import LoginPage from'../LoginPage/LoginPage.js';import Spotify from'../../util/Spotify.js';import OpenAiAPIRequest,{generatePlaylistName,generateSongRecommendations,generateImage,interpretPrompt as _interpretPrompt}from\"../../util/OpenAiAPIRequest.js\";import{faSpinner,faCommentAlt,faSearch,faMusic}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={loggedIn:true,searchResults:[],playlistName:'New Playlist',playlistTracks:[],isFetching:false,searchState:true,albumArt:defaultAlbumArt,currentTrack:null};_this.search=_this.search.bind(_assertThisInitialized(_this));_this.openAiSearch=_this.openAiSearch.bind(_assertThisInitialized(_this));_this.addTrack=_this.addTrack.bind(_assertThisInitialized(_this));_this.removeTrack=_this.removeTrack.bind(_assertThisInitialized(_this));_this.updatePlaylistName=_this.updatePlaylistName.bind(_assertThisInitialized(_this));_this.savePlaylist=_this.savePlaylist.bind(_assertThisInitialized(_this));_this.generatePlaylistName=_this.generatePlaylistName.bind(_assertThisInitialized(_this));_this.setToSearchState=_this.setToSearchState.bind(_assertThisInitialized(_this));_this.setToPlaylistState=_this.setToPlaylistState.bind(_assertThisInitialized(_this));_this.toggleTrack=_this.toggleTrack.bind(_assertThisInitialized(_this));_this.handleLogin=_this.toggleTrack.bind(_assertThisInitialized(_this));_this.generateAlbumArt=_this.generateAlbumArt.bind(_assertThisInitialized(_this));_this.interpretPrompt=_this.interpretPrompt.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"handleLogin\",value:function(){var _handleLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var accessToken;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return Spotify.getAccessToken();case 2:accessToken=_context.sent;// If an access token is obtained, update the loggedIn state\nif(accessToken){this.setState({loggedIn:true});}else{// Handle the case where the access token could not be obtained\nconsole.error('Authentication failed');}case 4:case\"end\":return _context.stop();}},_callee,this);}));function handleLogin(){return _handleLogin.apply(this,arguments);}return handleLogin;}()},{key:\"search\",value:function search(term){var _this2=this;Spotify.search(term).then(function(searchResults){_this2.setState({searchResults:searchResults});});}//call interpret prompt\n},{key:\"interpretPrompt\",value:function interpretPrompt(prompt){_interpretPrompt(prompt).then(function(response){console.log(response);});}},{key:\"openAiSearch\",value:function openAiSearch(prompt){var _this3=this;this.setState({isFetching:true});generateSongRecommendations(\"Give me 25 song recommendations for this prompt: \".concat(prompt,\". Format the response with this convention Song Name - Artist Name 2. Song Name - Artist Name\")).then(function(response){var songList=response.slice(0,25);var promises=songList.map(function(song){return Spotify.openAiSearch(song);});Promise.all(promises).then(function(searchResultsArray){var _ref;var searchResults=(_ref=[]).concat.apply(_ref,_toConsumableArray(searchResultsArray));_this3.setState({searchResults:searchResults});var playlistNamePromise=_this3.generatePlaylistName(prompt);playlistNamePromise.then(function(playlistName){_this3.generateAlbumArt(playlistName);}).then(function(){return _this3.setState({isFetching:false});});}).catch(function(error){console.error(error);});});}},{key:\"generatePlaylistName\",value:function generatePlaylistName(prompt){var _this4=this;return OpenAiAPIRequest.generatePlaylistName(\"Come up with a name for playlist with the following prompt: \".concat(prompt,\". Make it less than 50 characters. For example if the prompt is: Soaking up the sun in California, you could return: California Dreamin.\")).then(function(playlistName){console.log('Generated playlist name:',playlistName);_this4.setState({playlistName:playlistName});return playlistName;}).catch(function(error){console.error(error);});}},{key:\"generateAlbumArt\",value:function generateAlbumArt(playlistName){var _this5=this;console.log('Playlist name:',\"Sigma 75mm lens capturing this: \".concat(playlistName,\". No words, just the image.\"));return OpenAiAPIRequest.generateImage(playlistName).then(function(albumArt){console.log('API response:',albumArt);_this5.setState({albumArt:albumArt});return albumArt;}).catch(function(error){console.error(error);});}},{key:\"addTrack\",value:function addTrack(track){var tracks=this.state.playlistTracks;if(tracks.find(function(savedTrack){return savedTrack.id===track.id;})){return;}tracks.push(track);this.setState({playlistTracks:tracks});var searchResults=this.state.searchResults;searchResults.splice(searchResults.indexOf(track),1);this.setState({searchResults:searchResults});}},{key:\"toggleTrack\",value:function toggleTrack(track){if(this.state.currentTrack&&this.state.currentTrack.id===track.id){// Pause the current track if it is already playing\nthis.audio.pause();this.setState({currentTrack:null});}else{// Play the new track\nif(this.audio){this.audio.pause();}this.audio=new Audio(track.preview_url);this.audio.play();this.setState({currentTrack:track});}}},{key:\"componentDidMount\",value:function componentDidMount(){var accessToken=Spotify.getAccessToken();if(accessToken){this.setState({loggedIn:true});}}},{key:\"removeTrack\",value:function removeTrack(track){var tracks=this.state.playlistTracks;tracks=tracks.filter(function(currentTrack){return currentTrack.id!==track.id;});this.setState({playlistTracks:tracks});var searchResults=this.state.searchResults;searchResults.push(track);this.setState({searchResults:searchResults});}},{key:\"updatePlaylistName\",value:function updatePlaylistName(name){this.setState({playlistName:name});}},{key:\"savePlaylist\",value:function savePlaylist(){var _this6=this;var trackUris=this.state.playlistTracks.map(function(track){return track.uri;});Spotify.savePlaylist(this.state.playlistName,trackUris).then(function(){_this6.setState({playlistName:'[NAME PLAYLIST]',playlistTracks:[]});});}},{key:\"setToSearchState\",value:function setToSearchState(event){this.setState({searchState:true});}},{key:\"setToPlaylistState\",value:function setToPlaylistState(event){this.setState({searchState:false});}},{key:\"render\",value:function render(){var _this7=this;if(!this.state.loggedIn){return/*#__PURE__*/_jsx(LoginPage,{onLogin:function onLogin(){return _this7.handleLogin();}});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Sidebar\",children:[/*#__PURE__*/_jsx(\"img\",{src:'/djboticon.png',alt:'icon'}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"SOUND\",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"TRACKS\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:this.setToSearchState,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearch,style:{marginRight:'0.75em'}}),\"Search\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:this.setToPlaylistState,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMusic,style:{marginRight:'0.75em'}}),\"Playlist\"]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"https://docs.google.com/forms/d/e/1FAIpQLSeL0vWrUM-qIHzhfjeZUQE2ZwRRzQ74z0K1Mj4G7En2lo3-xQ/viewform?usp=sf_link\",className:\"feedback\",target:\"_blank\",rel:\"noopener noreferrer\",children:[/*#__PURE__*/_jsx(\"span\",{style:{paddingRight:\"10px\"},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCommentAlt})}),\"Please Provide Feedback!\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:this.state.searchState?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:this.openAiSearch}),this.state.isFetching?/*#__PURE__*/_jsxs(\"div\",{className:\"Fetching-sign\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSpinner,spin:true}),\"Fetching results...\"]}):null,/*#__PURE__*/_jsx(SearchResults,{searchResults:this.state.searchResults,onAdd:this.addTrack,onToggle:this.toggleTrack,currentTrack:this.state.currentTrack})]}):/*#__PURE__*/_jsx(\"div\",{className:\"App-playlist\",children:/*#__PURE__*/_jsx(Playlist,{playlistName:this.state.playlistName,playlistTracks:this.state.playlistTracks,albumArt:this.state.albumArt,onNameChange:this.updatePlaylistName,onRemove:this.removeTrack,onSave:this.savePlaylist,onToggle:this.toggleTrack,currentTrack:this.state.currentTrack,children:/*#__PURE__*/_jsx(\"img\",{src:this.state.albumArt,alt:\"Album Art\",style:{width:'1rem',height:'1rem'}})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Navigator\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:this.setToSearchState,className:this.state.searchState?\"active\":\"\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearch,style:{marginRight:'0.4em'}}),\"Search\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:this.setToPlaylistState,className:this.state.searchState?\"\":\"active\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMusic,style:{marginRight:'0.5em'}}),\"Playlist\"]})]})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"names":["React","defaultAlbumArt","Playlist","SearchBar","SearchResults","LoginPage","Spotify","OpenAiAPIRequest","generatePlaylistName","generateSongRecommendations","generateImage","interpretPrompt","faSpinner","faCommentAlt","faSearch","faMusic","FontAwesomeIcon","jsx","_jsx","jsxs","_jsxs","App","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","loggedIn","searchResults","playlistName","playlistTracks","isFetching","searchState","albumArt","currentTrack","search","bind","_assertThisInitialized","openAiSearch","addTrack","removeTrack","updatePlaylistName","savePlaylist","setToSearchState","setToPlaylistState","toggleTrack","handleLogin","generateAlbumArt","_createClass","key","value","_handleLogin","_asyncToGenerator","_regeneratorRuntime","mark","_callee","accessToken","wrap","_callee$","_context","prev","next","getAccessToken","sent","setState","console","error","stop","apply","arguments","term","_this2","then","prompt","response","log","_this3","concat","songList","slice","promises","map","song","Promise","all","searchResultsArray","_ref","_toConsumableArray","playlistNamePromise","catch","_this4","_this5","track","tracks","find","savedTrack","id","push","splice","indexOf","audio","pause","Audio","preview_url","play","componentDidMount","filter","name","_this6","trackUris","uri","event","render","_this7","onLogin","children","className","src","alt","onClick","icon","style","marginRight","href","target","rel","paddingRight","onSearch","spin","onAdd","onToggle","onNameChange","onRemove","onSave","width","height","Component"],"sources":["C:/Users/joesh/IdeaProjects/soundtracks_final/src/components/App/App.js"],"sourcesContent":["import React from 'react';\nimport './App.css';\nimport defaultAlbumArt from './DALLÂ·E 2023-03-01 20.07.50 - driving down the 101 with the top down.png';\nimport Playlist from '../Playlist/Playlist.js';\nimport SearchBar from '../SearchBar/SearchBar.js';\nimport SearchResults from '../SearchResults/SearchResults.js';\nimport LoginPage from '../LoginPage/LoginPage.js';\nimport Spotify from '../../util/Spotify.js';\nimport OpenAiAPIRequest, {generatePlaylistName, generateSongRecommendations, generateImage,interpretPrompt} from \"../../util/OpenAiAPIRequest.js\";\nimport {faSpinner, faCommentAlt, faSearch,faMusic} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n        loggedIn: true,\n        searchResults: [],\n      playlistName: 'New Playlist',\n      playlistTracks: [],\n      isFetching: false,\n      searchState: true,\n      albumArt: defaultAlbumArt,\n        currentTrack: null,\n    };\n\n    this.search = this.search.bind(this);\n    this.openAiSearch = this.openAiSearch.bind(this);\n    this.addTrack = this.addTrack.bind(this);\n    this.removeTrack = this.removeTrack.bind(this);\n    this.updatePlaylistName = this.updatePlaylistName.bind(this);\n    this.savePlaylist = this.savePlaylist.bind(this);\n    this.generatePlaylistName = this.generatePlaylistName.bind(this);\n    this.setToSearchState = this.setToSearchState.bind(this);\n    this.setToPlaylistState=this.setToPlaylistState.bind(this);\n    this.toggleTrack = this.toggleTrack.bind(this);\n    this.handleLogin= this.toggleTrack.bind(this);\n    this.generateAlbumArt = this.generateAlbumArt.bind(this);\n    this.interpretPrompt= this.interpretPrompt.bind(this);\n  }\n\n    async handleLogin() {\n        // Use the Spotify utility to get the access token\n        const accessToken = await Spotify.getAccessToken();\n        // If an access token is obtained, update the loggedIn state\n        if (accessToken) {\n            this.setState({ loggedIn: true });\n        } else {\n            // Handle the case where the access token could not be obtained\n            console.error('Authentication failed');\n        }\n    }\n\n    search(term) {\n    Spotify.search(term).then(searchResults => {\n      this.setState({searchResults: searchResults});\n    });\n  }\n    //call interpret prompt\n    interpretPrompt(prompt) {\n      interpretPrompt(prompt).then((response) => {\n            console.log(response);\n        });\n  }\n\n    openAiSearch(prompt) {\n        this.setState({ isFetching: true });\n        generateSongRecommendations(`Give me 25 song recommendations for this prompt: ${prompt}. Format the response with this convention Song Name - Artist Name 2. Song Name - Artist Name`)\n            .then((response) => {\n                const songList = response.slice(0, 25);\n                const promises = songList.map(song => Spotify.openAiSearch(song));\n                Promise.all(promises)\n                    .then((searchResultsArray) => {\n                        const searchResults = [].concat(...searchResultsArray);\n                        this.setState({ searchResults: searchResults});\n                        const playlistNamePromise = this.generatePlaylistName(prompt);\n                        playlistNamePromise.then((playlistName) => {\n\n                            this.generateAlbumArt(playlistName);\n                        }).then(() => this.setState({ isFetching: false }));\n                    })\n                    .catch((error) => {\n                        console.error(error);\n                    });\n            });\n    }\n\n\n    generatePlaylistName(prompt) {\n        return OpenAiAPIRequest.generatePlaylistName(`Come up with a name for playlist with the following prompt: ${prompt}. Make it less than 50 characters. For example if the prompt is: Soaking up the sun in California, you could return: California Dreamin.`)\n            .then(playlistName => {\n                console.log('Generated playlist name:', playlistName);\n                this.setState({ playlistName: playlistName });\n                return playlistName;\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    }\n\n    generateAlbumArt(playlistName) {\n        console.log('Playlist name:', `Sigma 75mm lens capturing this: ${playlistName}. No words, just the image.`);\n        return OpenAiAPIRequest.generateImage(playlistName)\n            .then(albumArt => {\n                console.log('API response:', albumArt);\n                this.setState({ albumArt: albumArt });\n                return albumArt;\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    }\n\n  addTrack(track) {\n    let tracks = this.state.playlistTracks;\n    if (tracks.find(savedTrack => savedTrack.id === track.id)) {\n      return;\n    }\n    tracks.push(track);\n    this.setState({playlistTracks: tracks});\n    let searchResults = this.state.searchResults;\n    searchResults.splice(searchResults.indexOf(track),1);\n    this.setState({searchResults: searchResults })\n  }\n\n    toggleTrack(track) {\n        if (this.state.currentTrack && this.state.currentTrack.id === track.id) {\n            // Pause the current track if it is already playing\n            this.audio.pause();\n            this.setState({ currentTrack: null });\n        } else {\n            // Play the new track\n            if (this.audio) {\n                this.audio.pause();\n            }\n            this.audio = new Audio(track.preview_url);\n            this.audio.play();\n            this.setState({ currentTrack: track });\n        }\n    }\n\n    componentDidMount() {\n        const accessToken = Spotify.getAccessToken();\n        if (accessToken) {\n            this.setState({ loggedIn: true });\n        }\n    }\n\n\n    removeTrack(track) {\n    let tracks = this.state.playlistTracks;\n    tracks = tracks.filter(currentTrack => currentTrack.id !== track.id);\n    this.setState({playlistTracks: tracks});\n    let searchResults = this.state.searchResults;\n    searchResults.push(track);\n    this.setState({searchResults: searchResults })\n  }\n\n  updatePlaylistName(name) {\n    this.setState({playlistName: name});\n  }\n\n  savePlaylist() {\n    const trackUris = this.state.playlistTracks.map(track => track.uri);\n    Spotify.savePlaylist(this.state.playlistName, trackUris).then(() => {\n      this.setState({\n        playlistName: '[NAME PLAYLIST]',\n        playlistTracks: []\n      });\n    });\n  }\n\n  setToSearchState(event){\n    this.setState({searchState:true});\n  }\n\n  setToPlaylistState(event){\n    this.setState({searchState:false});\n  }\n\n    render() {\n        if (!this.state.loggedIn) {\n            return <LoginPage onLogin={() => this.handleLogin()}  />;\n        }\n        return (\n            <div>\n                <div className=\"Sidebar\">\n                    <img src={'/djboticon.png'} alt={'icon'} />\n                    <h1>SOUND<span className=\"highlight\">TRACKS</span></h1>\n                    <button onClick={this.setToSearchState}>\n                        <FontAwesomeIcon icon={faSearch} style={{marginRight: '0.75em'}} />\n                        Search\n                    </button>\n                    <button onClick={this.setToPlaylistState}>\n                        <FontAwesomeIcon icon={faMusic} style={{marginRight: '0.75em'}} />\n                        Playlist\n                    </button>\n                    <div>\n                        <a href=\"https://docs.google.com/forms/d/e/1FAIpQLSeL0vWrUM-qIHzhfjeZUQE2ZwRRzQ74z0K1Mj4G7En2lo3-xQ/viewform?usp=sf_link\"\n                           className=\"feedback\"\n                           target=\"_blank\"\n                           rel=\"noopener noreferrer\"\n                        >\n            <span style={{ paddingRight: \"10px\" }}>\n              <FontAwesomeIcon icon={faCommentAlt} />\n            </span>\n                            Please Provide Feedback!\n                        </a>\n                    </div>\n                </div>\n\n                <div className=\"App\">\n                    {this.state.searchState ?\n                        <div>\n                            <SearchBar onSearch={this.openAiSearch} />\n                            {this.state.isFetching ? (\n                                <div className=\"Fetching-sign\">\n                                    <FontAwesomeIcon icon={faSpinner} spin />\n                                    Fetching results...\n                                </div>\n                            ) : null}\n                            <SearchResults searchResults={this.state.searchResults} onAdd={this.addTrack} onToggle={this.toggleTrack} currentTrack={this.state.currentTrack} />\n                        </div>\n                        :\n                        <div className=\"App-playlist\">\n                            <Playlist\n                                playlistName={this.state.playlistName}\n                                playlistTracks={this.state.playlistTracks}\n                                albumArt={this.state.albumArt}\n                                onNameChange={this.updatePlaylistName}\n                                onRemove={this.removeTrack}\n                                onSave={this.savePlaylist}\n                                onToggle={this.toggleTrack}\n                                currentTrack={this.state.currentTrack} >\n                                <img src={this.state.albumArt} alt=\"Album Art\" style={{ width: '1rem', height: '1rem' }} />\n                            </Playlist>\n                        </div>\n                    }\n                </div>\n\n                <div className=\"Navigator\">\n                    <button onClick={this.setToSearchState} className={this.state.searchState ? \"active\" : \"\"}>\n                        <FontAwesomeIcon icon={faSearch} style={{marginRight: '0.4em'}} />\n                        Search\n                    </button>\n                    <button onClick={this.setToPlaylistState} className={this.state.searchState ? \"\" : \"active\"}>\n                        <FontAwesomeIcon icon={faMusic} style={{marginRight: '0.5em'}} />\n                        Playlist\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}